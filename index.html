<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Steph Marie’s Bakehouse — Pre-Orders</title>
<link rel="icon" href="logo.png" />
<style>
  :root{
    --pink:#f6a5c0;
    --pink-deep:#e56c95;
    --ink:#111113;
    --paper:#fff7fb;
    --accent:#2b2b2b;
  }
  *{box-sizing:border-box}
  html,body{margin:0; padding:0; background:var(--paper); color:var(--ink);}
  body{font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}

  /* Header */
  header{
    padding:12px 0 0; border-bottom:1px solid #eee; background:#fff;
    position:sticky; top:0; z-index:20;
  }
  .brand{display:flex; justify-content:center; align-items:center;}
  .site-logo{height:200px; width:auto; display:block; /* 2× size */ }

  /* Quick links nav */
  .quicklinks{
    display:flex; gap:10px; overflow:auto; -webkit-overflow-scrolling:touch;
    padding:10px 12px 14px; background:#fff;
  }
  .quicklinks a{
    white-space:nowrap; text-decoration:none; color:#000; background:#fff; border:1px solid #eee;
    padding:8px 12px; border-radius:999px; font-weight:700;
  }
  .quicklinks a.primary{ background:var(--pink); border-color:var(--pink-deep); }

  /* Layout */
  .wrap{max-width:1100px; margin:0 auto; padding:14px 16px 110px;}
  .hero{display:grid; gap:12px; margin-top:8px; margin-bottom:30px;} /* added larger break below hero */
  .panel{background:#fff; border:1px solid #eee; border-radius:14px; padding:14px;}
  .panel.outlined{border:2px solid var(--ink);} /* stronger defined border for the two panels */
  .panel h2{margin:0 0 8px; font-size:1.05rem}
  .notice{background:#fff0f5; border:1px dashed var(--pink-deep); padding:10px 12px; border-radius:10px; font-size:.95rem;}

  /* Section headings (bigger, and offset for sticky header when linking) */
  h2.section-title{
    margin:22px 0 12px;
    font-size:1.6rem;            /* larger titles on mobile */
    line-height:1.2;
    scroll-margin-top: 220px;    /* ensures title is visible after sticky header */
  }
  @media (min-width:900px){
    h2.section-title{ font-size:2rem; }
  }

  /* Utility (added) */
  .center{ text-align:center; }
  .twolines{ margin-bottom:2em; }

  /* Product grid/cards */
  .grid{display:grid; gap:12px; grid-template-columns:1fr;}
  @media (min-width:560px){ .grid{grid-template-columns:repeat(2,1fr);} }
  @media (min-width:900px){ .grid{grid-template-columns:repeat(3,1fr);} }

  .card{background:#fff; border:1px solid #eee; border-radius:14px; overflow:hidden; display:flex; flex-direction:column}
  .card img{width:100%; aspect-ratio: 4/3; object-fit:cover; display:block}
  .meta{padding:12px}
  .name{font-weight:800; font-size:1.1rem;} /* slightly larger product titles */
  .price{color:#444; margin-top:2px}
  .opts{display:flex; gap:10px; align-items:center; margin-top:10px}
  .qty{display:flex; align-items:center; gap:8px; border:1px solid #eee; border-radius:12px; padding:8px 10px;}
  .qty button{border:0; background:#f5f5f5; width:36px; height:36px; border-radius:10px; cursor:pointer; font-size:18px;}
  .add{margin-left:auto; border:0; background:var(--pink-deep); color:#fff; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:700; min-width:110px;}

  /* Big gap / divider after THIS WEEKS ITEMS */
  .big-gap{
    border-top:4px solid #111;
    margin:40px 0 60px;  /* visual space before Bagels */
  }

  /* Sticky Cart bar */
  .cartbar{position:fixed; left:0; right:0; bottom:0; z-index:25; background:#fff; border-top:1px solid #eee;
    padding:10px 14px; display:flex; align-items:center; gap:12px; box-shadow:0 -6px 20px #0001;}
  .cartbadge{background:var(--pink); color:#000; font-weight:700; padding:6px 10px; border-radius:999px; min-width:34px; text-align:center;}
  .cartsum{flex:1; min-width:0}
  .cartsum .t{display:block; font-size:.9rem; color:#666; line-height:1.2}
  .cartsum .v{display:block; font-weight:800}
  .checkout-btn{border:0; background:var(--pink-deep); color:#fff; padding:12px 16px; border-radius:12px; font-weight:800; cursor:pointer;}
  .checkout-btn:disabled{opacity:.5}

  /* Drawer */
  .drawer{position:fixed; left:0; right:0; bottom:0; z-index:50; background:#fff;
    border-top-left-radius:16px; border-top-right-radius:16px; transform:translateY(100%); transition:transform .28s ease-out;
    box-shadow:0 -14px 40px #0003; max-height:85vh; display:flex; flex-direction:column;}
  .drawer.open{transform:translateY(0)}
  .drawer .grab{width:48px; height:5px; background:#ddd; border-radius:999px; margin:8px auto 6px;}
  .drawer header{position:sticky; top:0; border-bottom:1px solid #eee}
  .drawer h3{margin:0; font-size:1.05rem}
  .drawer-body{padding:12px 14px; overflow:auto}
  .cart-items{border:1px solid #f0f0f0; border-radius:12px; padding:8px; max-height:220px; overflow:auto}
  .ci{display:grid; grid-template-columns:1fr auto auto; gap:8px; align-items:center; padding:6px 0; border-bottom:1px dashed #eee}
  .ci:last-child{border-bottom:0}
  .ci .qty-mini{display:flex; align-items:center; gap:8px}
  .ci button{width:32px; height:32px; border:0; background:#f5f5f5; border-radius:8px; font-size:18px; cursor:pointer}
  .totals{display:flex; justify-content:space-between; margin:10px 0; font-weight:800}
  .preorder{display:grid; gap:10px; margin-top:6px}
  input, textarea, select{width:100%; padding:12px 14px; border:1px solid #ddd; border-radius:12px; font:inherit; background:#fff;}
  label.small{font-size:.9rem; color:#666}
  .pay-buttons{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
  .pay{border:1px solid #eee; background:#fafafa; padding:12px 14px; border-radius:12px; cursor:pointer; font-weight:700}
  .pay.primary{background:var(--pink); border-color:var(--pink-deep); color:#000}
  .qr{display:none; margin-top:10px; text-align:center}
  .qr img{max-width:200px; height:auto; display:block; margin:0 auto 6px}
  .muted{color:#666; font-size:.9rem}
  .drawer-footer{padding:12px 14px 20px; border-top:1px solid #eee; color:#666; font-size:.9rem}
</style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="brand">
      <img src="logo.png" alt="Steph Marie’s Bakehouse Logo" class="site-logo" />
    </div>

    <!-- Quick link categories -->
    <nav class="quicklinks">
      <a class="primary" href="#thisweeks-title">THIS WEEKS ITEMS</a>
      <a href="#bagels-title">Bagels</a>
      <a href="#bakedbars-title">Baked Bars</a>
      <a href="#bread-title">Bread</a>
      <a href="#brownies-title">Brownies</a>
      <a href="#cinnamonrolls-title">Cinnamon Rolls</a>
      <a href="#cookies-title">Cookies</a>
      <a href="#muffins-title">Muffins</a>
      <a href="#pies-title">Pies</a>
      <a href="#scones-title">Scones</a>
    </nav>
  </header>

  <div class="wrap">
    <!-- Info panels -->
    <section class="hero">
      <div class="panel outlined">
        <h2>How pre-orders work</h2>
        <ol style="margin:0; padding-left:18px">
          <li>Add items to your cart</li>
          <li>Pick a pickup date/time and add your info</li>
          <li>Tap a payment option — link or QR appears</li>
        </ol>
        <p class="notice" style="margin-top:10px">
          Apple Pay note: true on-site Apple Pay needs Stripe or Square.
          Use PayPal/Venmo/Cash App now; we can add Apple Pay later without changing your layout.
        </p>
      </div>
      <div class="panel outlined">
        <h2>This week’s pickup</h2>
        <ul style="margin:8px 0 0; padding-left:18px">
          <li><strong>Location:</strong> 3820 47th Ave NE, Tacoma, WA 98422</li>
          <li><strong>Window:</strong> Mon–Fri 9:00a–2:00p</li>
        </ul>
      </div>
    </section>

    <!-- WEEKLY SPECIAL -->
    <h2 id="thisweeks-title" class="section-title center">Weekly Special</h2>
    <div class="grid">
      <!-- One weekly feature -->
      <article class="card" data-id="weekly-cinn6" data-name="Chocolate Chip Cookie Bars (1-Dozen)" data-price="15.00">
        <img src="https://github.com/stephmariesbakehouse/steph-maries-bakehouse/blob/main/assets/chocolate_chip_cookie_bars.JPG?raw=true
" alt="Chocolate Chip Cookie Bars" />
        <div class="meta">
          <div class="name">Chocolate Chip Cookie Bars (1-Dozen)</div>
          <div class="price">$15.00</div>
          <div class="opts">
            <div class="qty" data-for="weekly-cinn6">
              <button class="minus" aria-label="decrease">−</button>
              <span class="val">1</span>
              <button class="plus" aria-label="increase">+</button>
            </div>
            <button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- BIG GAP + BORDER before first category -->
    <div class="big-gap"></div>

    <!-- BAKED GOODS (added, centered, with extra space before Bagels) -->
    <h2 class="section-title center twolines">Baked Goods</h2>

    <!-- Bagels -->
    <h2 id="bagels-title" class="section-title">Bagels</h2>
    <div class="grid">
      <article class="card" data-id="bagels-plain6" data-name="Bagel Box (1-Dozen)" data-price="15.00">
        <img src="https://github.com/stephmariesbakehouse/steph-maries-bakehouse/blob/main/assets/bagel_box.JPG?raw=true" alt="Bagel Box" />
        <div class="meta">
          <div class="name">Plain Bagels (6)</div>
          <div class="price">$15.00</div>
          <div class="opts">
            <div class="qty" data-for="bagels-plain6">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
      <article class="card" data-id="bagels-every6" data-name="Everything Bagels (6)" data-price="9.00">
        <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?q=80&w=1200&auto=format&fit=crop" alt="Everything bagels" />
        <div class="meta">
          <div class="name">Everything Bagels (6)</div>
          <div class="price">$9.00</div>
          <div class="opts">
            <div class="qty" data-for="bagels-every6">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Baked Bars -->
    <h2 id="bakedbars-title" class="section-title">Baked Bars</h2>
    <div class="grid">
      <article class="card" data-id="chocolate_chip_cookie_bars" data-name="Chocolate Chip Cookie Bars (1-Dozen)" data-price="15.00">
        <img src="https://github.com/stephmariesbakehouse/steph-maries-bakehouse/blob/main/assets/chocolate_chip_cookie_bars.JPG?raw=true
" alt="Chocolate Chip Cookie Bars (1-Dozen)" />
        <div class="meta">
          <div class="name">Chocolate Chip Cookie Bars (1-Dozen)</div>
          <div class="price">$15.00</div>
          <div class="opts">
            <div class="qty" data-for="chocolate_chip_cookie_bars">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Bread -->
    <h2 id="bread-title" class="section-title">Bread</h2>
    <div class="grid">
      <article class="card" data-id="bread-sourdough" data-name="Country Sourdough" data-price="9.00">
        <img src="https://images.unsplash.com/photo-1608198093002-ad4e005484ec?q=80&w=1200&auto=format&fit=crop" alt="Sourdough loaf" />
        <div class="meta">
          <div class="name">Country Sourdough</div>
          <div class="price">$9.00</div>
          <div class="opts">
            <div class="qty" data-for="bread-sourdough">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Brownies -->
    <h2 id="brownies-title" class="section-title">Brownies</h2>
    <div class="grid">
      <article class="card" data-id="brownie-classic" data-name="Classic Brownies (6)" data-price="10.00">
        <img src="https://images.unsplash.com/photo-1624353365286-3f8d63c4d0e0?q=80&w=1200&auto=format&fit=crop" alt="Brownies" />
        <div class="meta">
          <div class="name">Classic Brownies (6)</div>
          <div class="price">$10.00</div>
          <div class="opts">
            <div class="qty" data-for="brownie-classic">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Cinnamon Rolls -->
    <h2 id="cinnamonrolls-title" class="section-title">Cinnamon Rolls</h2>
    <div class="grid">
      <article class="card" data-id="cinn6" data-name="Cinnamon Roll (6-pack)" data-price="18.00">
        <img src="https://images.unsplash.com/photo-1541976076758-347942db1971?q=80&w=1200&auto=format&fit=crop" alt="Cinnamon rolls" />
        <div class="meta">
          <div class="name">Cinnamon Roll (6-pack)</div>
          <div class="price">$18.00</div>
          <div class="opts">
            <div class="qty" data-for="cinn6">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Cookies -->
    <h2 id="cookies-title" class="section-title">Cookies</h2>
    <div class="grid">
      <article class="card" data-id="cookies-choc12" data-name="Chocolate Chip Cookies (12)" data-price="16.00">
        <img src="https://images.unsplash.com/photo-1541599188778-b4d7a3a3af81?q=80&w=1200&auto=format&fit=crop" alt="Cookies" />
        <div class="meta">
          <div class="name">Chocolate Chip Cookies (12)</div>
          <div class="price">$16.00</div>
          <div class="opts">
            <div class="qty" data-for="cookies-choc12">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Muffins -->
    <h2 id="muffins-title" class="section-title">Muffins</h2>
    <div class="grid">
      <article class="card" data-id="muffins-blue6" data-name="Blueberry Muffins (6)" data-price="12.00">
        <img src="https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=1200&auto=format&fit=crop" alt="Blueberry muffins" />
        <div class="meta">
          <div class="name">Blueberry Muffins (6)</div>
          <div class="price">$12.00</div>
          <div class="opts">
            <div class="qty" data-for="muffins-blue6">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Pies -->
    <h2 id="pies-title" class="section-title">Pies</h2>
    <div class="grid">
      <article class="card" data-id="pies-apple" data-name="Apple Pie" data-price="15.00">
        <img src="https://github.com/stephmariesbakehouse/steph-maries-bakehouse/blob/main/assets/apple_pie.JPG?raw=true" alt="Apple pie" />
        <div class="meta">
          <div class="name">Apple Pie</div>
          <div class="price">$15.00</div>
          <div class="opts">
            <div class="qty" data-for="pies-apple">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- Scones -->
    <h2 id="scones-title" class="section-title">Scones</h2>
    <div class="grid">
      <article class="card" data-id="scones-berry6" data-name="Mixed Berry Scones (6)" data-price="14.00">
        <img src="https://images.unsplash.com/photo-1599785209796-9a9d37b04f3d?q=80&w=1200&auto=format&fit=crop" alt="Berry scones" />
        <div class="meta">
          <div class="name">Mixed Berry Scones (6)</div>
          <div class="price">$14.00</div>
          <div class="opts">
            <div class="qty" data-for="scones-berry6">
              <button class="minus">−</button><span class="val">1</span><button class="plus">+</button>
            </div><button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

  </div><!-- /wrap -->

  <!-- Sticky Cart Bar -->
  <div class="cartbar" id="cartBar">
    <div class="cartbadge" id="cartCount">0</div>
    <div class="cartsum">
      <span class="t">Your cart</span>
      <span class="v" id="cartTotal">$0.00</span>
    </div>
    <button class="checkout-btn" id="openCheckout" disabled>Checkout</button>
  </div>

  <!-- Slide-up Drawer -->
  <div class="drawer" id="drawer">
    <div class="grab" aria-hidden="true"></div>
    <header style="background:#fff; padding:10px 14px; display:flex; justify-content:space-between; align-items:center">
      <h3>Pre-order checkout</h3>
      <button id="closeDrawer" style="border:0; background:#f5f5f5; padding:8px 10px; border-radius:10px; cursor:pointer">Close</button>
    </header>
    <div class="drawer-body">
      <div class="cart-items" id="cartItems"><div class="muted">Cart is empty. Add something tasty</div></div>
      <div class="totals"><span>Total</span><span id="total">$0.00</span></div>

      <div class="preorder">
        <input id="custName" placeholder="Your name" autocomplete="name" />
        <input id="custPhone" placeholder="Mobile number for pickup text" inputmode="tel" autocomplete="tel" />
        <label class="small">Pickup date & time</label>
        <input id="pickupDT" type="datetime-local" />
        <textarea id="notes" rows="2" placeholder="Notes (allergies, special requests)"></textarea>
      </div>

      <div style="margin-top:10px">
        <label class="small">Pay now to confirm your order</label>
        <div class="pay-buttons">
          <button class="pay primary" data-pay="venmo">Pay Venmo</button>
          <button class="pay" data-pay="cashapp">Pay Cash App</button>
          <button class="pay" data-pay="paypal">Pay PayPal</button>
          <button class="pay" data-pay="apple">Apple Pay (info)</button>
        </div>

        <div class="qr" id="qrBox">
          <img id="qrImg" alt="Payment QR" />
          <div class="muted" id="qrNote"></div>
        </div>

        <div class="muted" style="margin-top:8px">
          After paying, you’ll receive a text confirmation. Need help?
          <a href="#" onclick="alert('Text us at the number above after you pay, and we will confirm your pickup window.'); return false;">Tap here</a>
        </div>
      </div>
    </div>

    <div class="drawer-footer">Thank you for supporting a local, home-based bakehouse</div>
  </div>

<script>
/* ================ Basic cart ================ */
const money = n => `$${n.toFixed(2)}`;
const cart = new Map();
const cartItemsEl = document.getElementById('cartItems');
const totalEl = document.getElementById('total');
const cartBarTotal = document.getElementById('cartTotal');
const cartCountEl = document.getElementById('cartCount');
const openCheckoutBtn = document.getElementById('openCheckout');

function renderCart(){
  cartItemsEl.innerHTML = '';
  let sum = 0, count = 0;
  if(cart.size === 0){
    cartItemsEl.innerHTML = '<div class="muted">Cart is empty. Add something tasty</div>';
  } else {
    [...cart.values()].forEach(item=>{
      sum += item.price * item.qty;
      count += item.qty;
      const row = document.createElement('div');
      row.className = 'ci';
      row.innerHTML = `
        <div><strong>${item.name}</strong><div class="muted">${money(item.price)} ea</div></div>
        <div class="qty-mini">
          <button aria-label="decrease" onclick="updateQty('${item.id}',-1)">−</button>
          <span>${item.qty}</span>
          <button aria-label="increase" onclick="updateQty('${item.id}',1)">+</button>
        </div>
        <div>${money(item.price*item.qty)}</div>
      `;
      cartItemsEl.appendChild(row);
    });
  }
  totalEl.textContent = money(sum);
  cartBarTotal.textContent = money(sum);
  cartCountEl.textContent = count;
  openCheckoutBtn.disabled = (count === 0);
}

function updateQty(id, delta){
  const it = cart.get(id);
  if(!it) return;
  it.qty += delta;
  if(it.qty <= 0) cart.delete(id);
  renderCart();
}

document.querySelectorAll('.card').forEach(card=>{
  const id = card.dataset.id;
  const name = card.dataset.name;
  const price = parseFloat(card.dataset.price);
  const box = card.querySelector('.qty');
  const valEl = box.querySelector('.val');
  box.querySelector('.plus').onclick = ()=>{ valEl.textContent = +valEl.textContent + 1; };
  box.querySelector('.minus').onclick = ()=>{ valEl.textContent = Math.max(1, +valEl.textContent - 1); };
  card.querySelector('.add').onclick = ()=>{
    const qty = +valEl.textContent;
    const existing = cart.get(id);
    if(existing){ existing.qty += qty; } else { cart.set(id,{id,name,price,qty}); }
    valEl.textContent = 1;
    renderCart();
    openDrawer();
  };
});
renderCart();

/* ================ Drawer controls ================ */
const drawer = document.getElementById('drawer');
document.getElementById('openCheckout').addEventListener('click', openDrawer);
document.getElementById('closeDrawer').addEventListener('click', closeDrawer);
document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });
function openDrawer(){ drawer.classList.add('open'); }
function closeDrawer(){ drawer.classList.remove('open'); }

/* ================ Payments ================ */
// Replace with your real handles
const VENMO_HANDLE = "StephMariesBakehouse"; // no @
const CASHAPP_TAG  = "StephMariesBakehouse"; // no $
const PAYPAL_ME    = "stephmariesbakehouse"; // paypal.me/<this>

function totalAmount(){ let t=0; cart.forEach(it=>t+=it.price*it.qty); return Math.round(t*100)/100; }
function orderSummary(){
  const items = [...cart.values()].map(i=>`${i.qty} × ${i.name}`).join(', ');
  const name = document.getElementById('custName').value.trim();
  const phone = document.getElementById('custPhone').value.trim();
  const dt = document.getElementById('pickupDT').value;
  const notes = document.getElementById('notes').value.trim();
  return {items,name,phone,dt,notes};
}
function requireBasics(){
  if(cart.size===0){ alert('Please add at least one item'); return false; }
  const {name,phone,dt} = orderSummary();
  if(!name || !phone || !dt){ alert('Please enter name, mobile, and pickup date/time'); return false; }
  return true;
}
function showQR(src, note){
  const qrBox = document.getElementById('qrBox');
  const qrImg = document.getElementById('qrImg');
  const qrNote = document.getElementById('qrNote');
  if(!src){ qrBox.style.display='none'; return; }
  qrImg.src = src; qrNote.textContent = note || ''; qrBox.style.display = 'block';
}
// Quick QR via Google Charts
function qrURL(text){
  const enc = encodeURIComponent(text);
  return `https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl=${enc}`;
}
function onPay(kind){
  if(!requireBasics()) return;
  const total = totalAmount();
  const {items,name,phone,dt} = orderSummary();
  const memo = `Bakehouse ${name} ${phone} ${new Date(dt).toLocaleString()} — ${items}`.slice(0,120);

  if(kind==='venmo'){
    const venmoLink = `venmo://paycharge?txn=pay&recipients=${encodeURIComponent(VENMO_HANDLE)}&amount=${total}&note=${encodeURIComponent(memo)}`;
    const web = `https://venmo.com/${encodeURIComponent(VENMO_HANDLE)}`;
    showQR(qrURL(web), `If the Venmo app doesn’t open, scan or tap to pay: ${web}`);
    window.location.href = venmoLink;
  }
  if(kind==='cashapp'){
    const url = `https://cash.app/$${encodeURIComponent(CASHAPP_TAG)}/${total}`;
    showQR(qrURL(url), `Cash App: $${CASHAPP_TAG} — amount should prefill. Add note: "${memo}"`);
    window.open(url,'_blank');
  }
  if(kind==='paypal'){
    const url = `https://paypal.me/${encodeURIComponent(PAYPAL_ME)}/${total}`;
    showQR(qrURL(url), `PayPal: @${PAYPAL_ME}. If amount doesn’t prefill, enter ${total.toFixed(2)} and add note "${memo}"`);
    window.open(url,'_blank');
  }
  if(kind==='apple'){
    alert(
`Apple Pay on your site uses a processor like Stripe or Square.
We can enable it with:
• Stripe: Payment Links or on-site checkout (domain verification)
• Square: Checkout links or Tap to Pay on iPhone

For now, please use Venmo / Cash App / PayPal above.`
    );
    showQR('', '');
  }
}
document.querySelectorAll('.pay').forEach(btn=>{
  btn.addEventListener('click', ()=> onPay(btn.dataset.pay));
});
</script>

  <!-- Lightbox modal -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-content" id="lightbox-img" alt="">
</div>

<style>
  .lightbox {
    display: none; 
    position: fixed; 
    z-index: 2000; 
    left: 0; top: 0; 
    width: 100%; height: 100%; 
    background: rgba(0,0,0,0.85);
    justify-content: center; 
    align-items: center;
  }
  .lightbox-content {
    max-width: 90%;
    max-height: 90%;
    border-radius: 8px;
    box-shadow: 0 0 20px #000;
  }
  .lightbox .close {
    position: absolute;
    top: 20px; right: 35px;
    color: #fff;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
  }
</style>

<script>
  // Get elements
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".lightbox .close");

  // Attach click events to all product images
  document.querySelectorAll(".card img").forEach(img => {
    img.style.cursor = "pointer";
    img.addEventListener("click", () => {
      lightbox.style.display = "flex";
      lightboxImg.src = img.src;
      lightboxImg.alt = img.alt;
    });
  });

  // Close on X
  closeBtn.addEventListener("click", () => {
    lightbox.style.display = "none";
  });

  // Close on outside click
  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.style.display = "none";
    }
  });
</script>
  
</body>
</html>
