<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Steph Marie’s Bakehouse — Pre-Orders</title>

<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="16x16"  href="assets/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32"  href="assets/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="48x48"  href="assets/favicon-48x48.png" />
<link rel="icon" type="image/png" sizes="64x64"  href="assets/favicon-64x64.png" />
<link rel="icon" type="image/png" sizes="96x96"  href="assets/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="192x192" href="assets/favicon-192x192.png" />
<link rel="shortcut icon" href="assets/favicon.ico" />

<!-- Manifest -->
<link rel="manifest" href="assets/site.webmanifest?v=2" />
<meta name="theme-color" content="#ffffff" />

<!-- Labels for iOS and Android homescreen -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Steph Marie’s Bakehouse">
<meta name="application-name" content="Steph Marie’s Bakehouse" />

<style>
  :root{
    --pink:#f6a5c0;
    --pink-deep:#e56c95;
    --ink:#111113;
    --paper:#fff7fb;
    --accent:#2b2b2b;
  }
  *{box-sizing:border-box}
  html,body{margin:0; padding:0; background:var(--paper); color:var(--ink);}
  body{font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
  /* … all your CSS unchanged … */
</style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="brand">
      <img src="logo.png" alt="Steph Marie’s Bakehouse Logo" class="site-logo" />
    </div>
    <nav class="quicklinks">
      <a class="primary" href="#thisweeks-title">THIS WEEKS ITEMS</a>
      <a href="#bagels-title">Bagels</a>
      <a href="#bakedbars-title">Baked Bars</a>
      <a href="#bread-title">Bread</a>
      <a href="#brownies-title">Brownies</a>
      <a href="#cinnamonrolls-title">Cinnamon Rolls</a>
      <a href="#cookies-title">Cookies</a>
      <a href="#muffins-title">Muffins</a>
      <a href="#pies-title">Pies</a>
      <a href="#scones-title">Scones</a>
    </nav>
  </header>

  <div class="wrap">
    <!-- Info panels -->
    <section class="hero">
      <div class="panel outlined">
        <h2>How pre-orders work</h2>
        <ol style="margin:0; padding-left:18px">
          <li>Add items to your cart</li>
          <li>Pick a pickup date/time and add your info</li>
          <li>Tap a payment option — link or QR appears</li>
        </ol>
        <p class="notice" style="margin-top:10px">
          Apple Pay note: true on-site Apple Pay needs Stripe or Square.
          Use PayPal/Venmo/Cash App now; we can add Apple Pay later without changing your layout.
        </p>
      </div>
      <div class="panel outlined">
        <h2>This week’s pickup</h2>
        <ul style="margin:8px 0 0; padding-left:18px">
          <li><strong>Location:</strong> 3820 47th Ave NE, Tacoma, WA 98422</li>
          <li><strong>Window:</strong> Mon–Fri 9:00a–2:00p</li>
        </ul>
      </div>
    </section>

    <!-- Weekly Special -->
    <h2 id="thisweeks-title" class="section-title center">Weekly Special</h2>
    <div class="grid">
      <article class="card" data-id="weekly-cinn6" data-name="Chocolate Chip Cookie Bars (1-Dozen)" data-price="15.00">
        <img src="https://github.com/stephmariesbakehouse/steph-maries-bakehouse/blob/main/assets/chocolate_chip_cookie_bars.JPG?raw=true" alt="Chocolate Chip Cookie Bars" />
        <div class="meta">
          <div class="name">Chocolate Chip Cookie Bars (1-Dozen)</div>
          <div class="price">$15.00</div>
          <div class="opts">
            <div class="qty" data-for="weekly-cinn6">
              <button class="minus" aria-label="decrease">−</button>
              <span class="val">1</span>
              <button class="plus" aria-label="increase">+</button>
            </div>
            <button class="add">Add</button>
          </div>
        </div>
      </article>
    </div>

    <!-- … all your other sections: Bagels, Baked Bars, Bread, Brownies, Cinnamon Rolls, Cookies, Muffins, Pies, Scones … -->

  </div><!-- /wrap -->

  <!-- Sticky Cart Bar -->
  <div class="cartbar" id="cartBar">
    <div class="cartbadge" id="cartCount">0</div>
    <div class="cartsum">
      <span class="t">Your cart</span>
      <span class="v" id="cartTotal">$0.00</span>
    </div>
    <button class="checkout-btn" id="openCheckout" disabled>Checkout</button>
  </div>

  <!-- Slide-up Drawer -->
  <div class="drawer" id="drawer">
    <div class="grab" aria-hidden="true"></div>
    <header style="background:#fff; padding:10px 14px; display:flex; justify-content:space-between; align-items:center">
      <h3>Pre-order checkout</h3>
      <button id="closeDrawer" style="border:0; background:#f5f5f5; padding:8px 10px; border-radius:10px; cursor:pointer">Close</button>
    </header>
    <div class="drawer-body">
      <div class="cart-items" id="cartItems"><div class="muted">Cart is empty. Add something tasty</div></div>
      <div class="totals"><span>Total</span><span id="total">$0.00</span></div>
      <div class="preorder">
        <input id="custName" placeholder="Your name" autocomplete="name" />
        <input id="custPhone" placeholder="Mobile number for pickup text" inputmode="tel" autocomplete="tel" />
        <label class="small">Pickup date & time</label>
        <input id="pickupDT" type="datetime-local" />
        <textarea id="notes" rows="2" placeholder="Notes (allergies, special requests)"></textarea>
      </div>
      <div style="margin-top:10px">
        <label class="small">Pay now to confirm your order</label>
        <div class="pay-buttons">
          <button class="pay primary" data-pay="venmo">Pay Venmo</button>
          <button class="pay" data-pay="cashapp">Pay Cash App</button>
          <button class="pay" data-pay="paypal">Pay PayPal</button>
          <button class="pay" data-pay="apple">Apple Pay (info)</button>
        </div>
        <div class="qr" id="qrBox">
          <img id="qrImg" alt="Payment QR" />
          <div class="muted" id="qrNote"></div>
        </div>
        <div class="muted" style="margin-top:8px">
          After paying, you’ll receive a text confirmation. Need help?
          <a href="#" onclick="alert('Text us at the number above after you pay, and we will confirm your pickup window.'); return false;">Tap here</a>
        </div>
      </div>
    </div>
    <div class="drawer-footer">Thank you for supporting a local, home-based bakehouse</div>
  </div>

<script>
/* ================ Basic cart, drawer, payments, QR code ================ */
/* your JS here unchanged */
</script>

<!-- Lightbox modal -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-content" id="lightbox-img" alt="">
</div>

<style>
  .lightbox {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.85);
    justify-content: center;
    align-items: center;
  }
  .lightbox-content {
    max-width: 90%;
    max-height: 90%;
    border-radius: 8px;
    box-shadow: 0 0 20px #000;
  }
  .lightbox .close {
    position: absolute;
    top: 20px; right: 35px;
    color: #fff;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
  }
</style>

<script>
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".lightbox .close");
  document.querySelectorAll(".card img").forEach(img => {
    img.style.cursor = "pointer";
    img.addEventListener("click", () => {
      lightbox.style.display = "flex";
      lightboxImg.src = img.src;
      lightboxImg.alt = img.alt;
    });
  });
  closeBtn.addEventListener("click", () => { lightbox.style.display = "none"; });
  lightbox.addEventListener("click", (e) => { if (e.target === lightbox) lightbox.style.display = "none"; });
</script>

</body>
</html>
